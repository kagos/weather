/*! weather-app 2016-06-06 */
angular.module("weather",[]).controller("WeatherController",["$scope","$http",function(a,b){var c=!0;a.$watch("search",function(a){c?setTimeout(function(){c=!1},0):d(a)});var d=function(a){a&&(5===a.length?b.get("http://maps.googleapis.com/maps/api/geocode/json?address="+a).then(function(a){e(a)})["catch"](function(a){console.error("Error in fetchCityState")}):console.error("Invalid zip!"))},e=function(c){var d=c.data.results[0].formatted_address,e=c.data.results[0].formatted_address.split(", "),f=e[1].lastIndexOf(" "),g=e[1].substring(0,f),h=e[0].replace(" ","_");b.get("http://api.wunderground.com/api/4fff4d1fab37ffe7/geolookup/conditions/q/"+g+"/"+h+".json").then(function(b){a.formatted_address=d,a.weather=b.data.current_observation.weather,a.temperature=b.data.current_observation.temperature_string,a.icon="http://icons.wxug.com/i/c/j/"+b.data.current_observation.icon+".gif"})["catch"](function(a){console.error("Error in fetchWeather")})}}]);